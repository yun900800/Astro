---
title: 3DBookShow 学习分析
description: 这是关于如何使用3D transform 来实现一个书籍的例子
publishDate: 2025-10-19
tags:
  - 3DBook
ogImage: /social-card.avif
---
首先我们先从结构进行分析

```html
<ul id="bk-list" class="bk-list clearfix">
  <li>
    ## 具体的书籍
  </li>
</ul>

## 内容部分又是一个特定的结构
<div class="bk-book book-1 bk-bookdefault">
  <div class="bk-front">
  </div>
  <div class="bk-page">
  </div>
  <div class="bk-back">
  </div>
  <div class="bk-right">
  </div>
  <div class="bk-left">
  </div>
  <div class="bk-top">
  </div>
  <div class="bk-bottom">
  </div>
</div>

## 内容的另一部分是另外一个结构
<div class="bk-info">
  <button class="bk-bookback">Flip</button>
  <button class="bk-bookview">View inside</button>
  <h3>
	<span>Anthony Burghiss</span>
	<span>A Catwork Orange</span>
  </h3>
  <p>Social prophecy? Black comedy? Study of freewill? A Clockwork Orange is all of these. It is also a dazzling experiment in language, as Burghiss creates a new language - 'meow', the cat slang of a not-too-distant future.</p>
</div>
```



总结一下：整个书籍的结构分为外部一个列表和内部一个基本书籍内容和书籍相关操作和书籍简述两部分

有了结构以后，我们就要分析相应的css，我们还是先从外部列表开始看哈

```css
.bk-list {
	list-style: none;
	position: relative;
}

.bk-list li {
	position: relative;
	width: 300px;
	float: left;
	z-index: 1;
	margin: 0px 50px 40px 0;
	-webkit-perspective: 1800px;
	perspective: 1800px;
}

.bk-list li:last-child {
	margin-right: 0;
}
```

这里的外部样式实际上就是去掉ul和li的默认值，然后宽度设置为300px，这个值可以作为参数进行传递，控制每本书的宽度，同时高度是自适应的；这里使用了float布局，其实应该使用flex更好

如果想抽象成react组件的话，这里应该是一层，我们再看书籍相关操作和书籍简述部分的css

```css
.bk-info {
	position: relative;
	margin-top: 440px;
}

.bk-info h3 {
	padding: 25px 0 10px;
	margin-bottom: 20px;
	border-bottom: 1px solid rgba(0,0,0,0.3);
	font-size: 26px;
}

.bk-info h3 span:first-child {
	font-size: 14px;
	font-weight: 400;
	text-transform: uppercase;
	padding-bottom: 5px;
	display: block;
	color: #777;
}

.bk-info p {
	line-height: 24px;
	color: #444;
	min-height: 160px;
}

.bk-info button {
	background: #FC756F;
	border: none;
	color: #fff;
	display: inline-block;
	padding: 3px 15px;
	font-weight: 700;
	font-size: 14px;
	text-transform: uppercase;
	cursor: pointer;
	margin-right: 4px;
	box-shadow: 1px 1px 1px rgba(0,0,0,0.15);
}

.bk-info button.bk-active,
.bk-info button:active {
	box-shadow: 
		0 1px 0 rgba(255, 255, 255, 0.8), 
		inset 0 -1px 1px rgba(0,0,0,0.2);
}

.no-touch .bk-info button:hover,
.bk-info button.bk-active {
	background: #d0544e;
}
```

这里只是进行了相关的美化，没有牵涉到复杂的的3D转化等

我们这里的重点分析是内容部分的3D转化

1. 第一个功能是当鼠标移动到书籍上的时候，书籍会沿着y轴中心旋转一定的角度，这个功能就是下面的css来实现

```css
.bk-list li .bk-book {
	position: absolute;
	width: 100%;
	height: 400px;
	-webkit-transform-style: preserve-3d;
	transform-style: preserve-3d;
	-webkit-transition: -webkit-transform .5s;
	transition: transform .5s;
}

.bk-list li .bk-book.bk-bookdefault:hover {
	-webkit-transform: rotate3d(0,1,0,35deg);
	transform: rotate3d(0,1,0,35deg);
}
```

这里第一点是写死了书籍的高度是400px，其次宽度100%对应的父元素的高度300px，否则这里估计没有效果，另外就是一个旋转变化

2. 将书籍的直接子元素一共七个部分都设置为绝对定位以及最上层页的直接子元素也设置为绝对定位

```css
.bk-list li .bk-book > div,
.bk-list li .bk-front > div {
	display: block;
	position: absolute;
}
```

3. 书籍front也的旋转

```css
.bk-list li .bk-front {
	-webkit-transform-style: preserve-3d;
	transform-style: preserve-3d;
	-webkit-transform-origin: 0% 50%;
	transform-origin: 0% 50%;
	-webkit-transition: -webkit-transform .5s;
	transition: transform .5s;
	-webkit-transform: translate3d(0,0,20px);
	transform: translate3d(0,0,20px);
	z-index: 10;
}

.bk-list li .bk-front > div {
	z-index: 1;
	-webkit-backface-visibility: hidden;
	backface-visibility: hidden;
	-webkit-transform-style: preserve-3d;
	transform-style: preserve-3d;
}
```

  3.1 这里需要具体看一下front的结构，这里front页实际上是绝对定位的两层，下面的一层默认显示，上面的一层应该是旋转的时候显示，因此就能解释为啥有一个backface-visibility：hidden，没有旋转的时候，背面不可见，旋转的时候，正面不可见只能看到背面

```html
<div class="bk-front">
    <div class="bk-cover-back"></div>
    <div class="bk-cover">
        <h2>
            <span>Anthony Burghiss</span>
            <span>A Catwork Orange</span>
        </h2>
    </div>
</div>
```
